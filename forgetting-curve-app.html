<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure AI-900 Â≠¶ÁøíË®òÈå≤„Ç¢„Éó„É™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            animation: fadeIn 0.8s ease-out;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 10px;
        }

        .tab {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: white;
            color: #0078d4;
        }

        .tab:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .tab.active:hover {
            background: white;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .quiz-content {
            max-width: 800px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            animation: slideUp 0.6s ease-out;
        }

        .input-section h2, .quiz-section h2 {
            color: #0078d4;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #0078d4;
            box-shadow: 0 0 0 3px rgba(0, 120, 212, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 120, 212, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #40e0d0 0%, #20b2aa 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }

        .memory-level {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .level-display {
            font-size: 4em;
            font-weight: bold;
            color: #0078d4;
            margin: 20px 0;
            animation: pulse 2s infinite;
        }

        .level-label {
            font-size: 1.2em;
            color: #666;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
        }

        .study-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .study-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            max-height: 500px;
            overflow-y: auto;
        }

        .study-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .study-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .study-item-title {
            font-weight: 600;
            color: #333;
        }

        .study-item-date {
            font-size: 0.9em;
            color: #666;
        }

        .study-item-retention {
            font-size: 0.9em;
            color: #0078d4;
            margin-top: 5px;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            background: #c82333;
        }

        .quiz-question {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .quiz-question h3 {
            color: #0078d4;
            margin-bottom: 20px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quiz-option {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: #0078d4;
            background: #f0f8ff;
        }

        .quiz-option.selected {
            border-color: #0078d4;
            background: #e6f3ff;
        }

        .quiz-option.correct {
            border-color: #28a745;
            background: #d4edda;
        }

        .quiz-option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: 600;
        }

        .quiz-feedback.correct {
            background: #d4edda;
            color: #155724;
        }

        .quiz-feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
        }

        .quiz-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stat-card h4 {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .stat-card .value {
            font-size: 2em;
            font-weight: bold;
            color: #0078d4;
        }

        .category-tag {
            display: inline-block;
            padding: 4px 12px;
            background: #e6f3ff;
            color: #0078d4;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-bottom: 10px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #999;
        }

        .empty-state svg {
            width: 100px;
            height: 100px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß† Azure AI-900 Â≠¶ÁøíË®òÈå≤„Ç¢„Éó„É™</h1>
            <p>Microsoft Azure AI Fundamentals Ë©¶È®ìÂØæÁ≠ñ - „Ç®„Éì„É≥„Ç∞„Éè„Ç¶„Çπ„ÅÆÂøòÂç¥Êõ≤Á∑ö„ÅßÂäπÁéáÁöÑ„Å´Â≠¶Áøí</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('study')">Â≠¶ÁøíË®òÈå≤</button>
            <button class="tab" onclick="switchTab('quiz')">ÂïèÈ°åÊºîÁøí</button>
        </div>

        <div id="studySection" class="study-section">
            <div class="main-content">
                <div class="panel">
                    <div class="input-section">
                        <h2>AI-900 Â≠¶ÁøíÂÜÖÂÆπ„ÇíË®òÈå≤</h2>
                        <form id="studyForm">
                            <div class="form-group">
                                <label for="category">„Ç´„ÉÜ„Ç¥„É™„Éº</label>
                                <select id="category" required>
                                    <option value="">„Ç´„ÉÜ„Ç¥„É™„Éº„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                                    <option value="AIÊ¶ÇË¶Å">AI„ÅÆÊ¶ÇË¶Å</option>
                                    <option value="Ê©üÊ¢∞Â≠¶Áøí">Ê©üÊ¢∞Â≠¶Áøí„ÅÆÂü∫Á§é</option>
                                    <option value="Computer Vision">Computer Vision</option>
                                    <option value="NLP">Ëá™ÁÑ∂Ë®ÄË™ûÂá¶ÁêÜ (NLP)</option>
                                    <option value="‰ºöË©±ÂûãAI">‰ºöË©±ÂûãAI</option>
                                    <option value="Ë≤¨‰ªª„ÅÇ„ÇãAI">Ë≤¨‰ªª„ÅÇ„ÇãAI</option>
                                    <option value="Azure AI Services">Azure AI Services</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="topic">Â≠¶Áøí„Éà„Éî„ÉÉ„ÇØ</label>
                                <input type="text" id="topic" placeholder="‰æã: Azure Computer Vision „ÅÆÁîªÂÉèÂàÜÊûêÊ©üËÉΩ" required>
                            </div>
                            <div class="form-group">
                                <label for="details">Â≠¶ÁøíÂÜÖÂÆπ„ÅÆË©≥Á¥∞</label>
                                <textarea id="details" placeholder="Â≠¶Áøí„Åó„ÅüÂÜÖÂÆπ„ÇíË©≥„Åó„ÅèË®òÂÖ•„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&#10;‰æã: Computer Vision„ÅØÁîªÂÉè„Åã„ÇâÁâ©‰Ωì„ÄÅ‰∫∫Áâ©„ÄÅ„ÉÜ„Ç≠„Çπ„Éà„ÇíÊ§úÂá∫„ÄÇOCRÊ©üËÉΩ„Åß„ÉÜ„Ç≠„Çπ„ÉàÊäΩÂá∫„ÅåÂèØËÉΩ„ÄÇ" required></textarea>
                            </div>
                            <div class="form-group">
                                <label for="question">ÂïèÈ°å</label>
                                <textarea id="question" placeholder="Ë©¶È®ìÂïèÈ°å„ÇíË®òÂÖ•„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&#10;‰æã: Azure Computer Vision„ÅßÂÆüË°å„Åß„Åç„Çã„Çø„Çπ„ÇØ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="answer">Á≠î„Åà</label>
                                <textarea id="answer" placeholder="ÂïèÈ°å„ÅÆÁ≠î„Åà„ÇíË®òÂÖ•„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&#10;‰æã: ÁîªÂÉèÂàÜÊûê„ÄÅOCR„ÄÅÈ°îÊ§úÂá∫„ÄÅÁâ©‰ΩìÊ§úÂá∫„Å™„Å©"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="difficulty">ÁêÜËß£Â∫¶</label>
                                <select id="difficulty">
                                    <option value="1">ÂÆåÁíß„Å´ÁêÜËß£Ôºà100%Ôºâ</option>
                                    <option value="0.8">„Åª„ÅºÁêÜËß£Ôºà80%Ôºâ</option>
                                    <option value="0.6">„Åæ„ÅÇ„Åæ„ÅÇÁêÜËß£Ôºà60%Ôºâ</option>
                                    <option value="0.4">Â∞ë„ÅóÁêÜËß£Ôºà40%Ôºâ</option>
                                    <option value="0.2">„Åª„Å®„Çì„Å©ÁêÜËß£„Åß„Åç„ÅöÔºà20%Ôºâ</option>
                                </select>
                            </div>
                            <button type="submit" class="btn">Â≠¶ÁøíÂÜÖÂÆπ„ÇíË®òÈå≤</button>
                        </form>
                    </div>
                </div>

                <div class="panel">
                    <div class="memory-level">
                        <div class="level-label">AI-900 Á∑èÂêàË®òÊÜ∂„É¨„Éô„É´</div>
                        <div class="level-display" id="memoryLevel">0</div>
                        <div class="level-label">/ 100</div>
                    </div>

                    <div class="chart-container">
                        <canvas id="forgettingCurveChart"></canvas>
                    </div>

                    <h2 style="color: #0078d4; margin-bottom: 20px;">Â≠¶ÁøíÂ±•Ê≠¥</h2>
                    <div class="study-list" id="studyList">
                        <div class="empty-state">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 11H6a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-3"></path>
                                <rect x="8" y="2" width="8" height="11" rx="1"></rect>
                            </svg>
                            <p>„Åæ„Å†Â≠¶ÁøíË®òÈå≤„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="quizSection" class="quiz-section hidden">
            <div class="quiz-content">
                <div class="panel">
                    <h2>AI-900 ÂïèÈ°åÊºîÁøí</h2>
                    
                    <div class="quiz-stats">
                        <div class="stat-card">
                            <h4>Êú¨Êó•„ÅÆÂïèÈ°åÊï∞</h4>
                            <div class="value" id="todayQuestions">0</div>
                        </div>
                        <div class="stat-card">
                            <h4>Ê≠£Á≠îÁéá</h4>
                            <div class="value" id="correctRate">0%</div>
                        </div>
                        <div class="stat-card">
                            <h4>ÈÄ£Á∂öÊ≠£Ëß£Êï∞</h4>
                            <div class="value" id="streak">0</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="quizCategory">Âá∫È°å„Ç´„ÉÜ„Ç¥„É™„Éº</label>
                        <select id="quizCategory">
                            <option value="all">„Åô„Åπ„Å¶„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº</option>
                            <option value="AIÊ¶ÇË¶Å">AI„ÅÆÊ¶ÇË¶Å</option>
                            <option value="Ê©üÊ¢∞Â≠¶Áøí">Ê©üÊ¢∞Â≠¶Áøí„ÅÆÂü∫Á§é</option>
                            <option value="Computer Vision">Computer Vision</option>
                            <option value="NLP">Ëá™ÁÑ∂Ë®ÄË™ûÂá¶ÁêÜ (NLP)</option>
                            <option value="‰ºöË©±ÂûãAI">‰ºöË©±ÂûãAI</option>
                            <option value="Ë≤¨‰ªª„ÅÇ„ÇãAI">Ë≤¨‰ªª„ÅÇ„ÇãAI</option>
                            <option value="Azure AI Services">Azure AI Services</option>
                        </select>
                    </div>

                    <button class="btn btn-secondary" onclick="generateQuiz()">ÂïèÈ°å„ÇíÁîüÊàê</button>

                    <div id="quizContent" style="margin-top: 30px;">
                        <!-- ÂïèÈ°å„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script>
        // Â≠¶ÁøíË®òÈå≤„Çí‰øùÂ≠ò„Åô„ÇãÈÖçÂàó
        let studyRecords = [];
        
        // „ÇØ„Ç§„Ç∫Áµ±Ë®à
        let quizStats = {
            today: 0,
            correct: 0,
            total: 0,
            streak: 0
        };

        // Chart.js „ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ
        let chart = null;

        // ÁèæÂú®„ÅÆ„Çø„Éñ
        let currentTab = 'study';

        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„ÅÆÂá¶ÁêÜ
        window.addEventListener('DOMContentLoaded', function() {
            // ÂàùÊúüÂåñÂá¶ÁêÜ
            console.log('„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÇíÂàùÊúüÂåñ„Åó„Å¶„ÅÑ„Åæ„Åô...');
            updateMemoryLevel();
            updateStudyList();
            drawChart();
        });

        // AI-900 ÂïèÈ°å„Éó„Éº„É´
        const quizPool = {
            'AIÊ¶ÇË¶Å': [
                {
                    question: "‰∫∫Â∑•Áü•ËÉΩÔºàAIÔºâ„ÅÆÂÆöÁæ©„Å®„Åó„Å¶ÊúÄ„ÇÇÈÅ©Âàá„Å™„ÇÇ„ÅÆ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                    options: [
                        "‰∫∫Èñì„ÅÆ„Çà„ÅÜ„Å´ËÄÉ„Åà„Çã„Ç≥„É≥„Éî„É•„Éº„Çø„Éº",
                        "‰∫∫Èñì„ÅÆÁü•ÁöÑÊ¥ªÂãï„Çí„Ç≥„É≥„Éî„É•„Éº„Çø„Éº„ÅßÂÆüÁèæ„Åô„ÇãÊäÄË°ì",
                        "Ëá™ÂãïÁöÑ„Å´„Éó„É≠„Ç∞„É©„É†„Çí‰ΩúÊàê„Åô„Çã„Ç∑„Çπ„ÉÜ„É†",
                        "„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà‰∏ä„ÅÆÊÉÖÂ†±„ÇíÂèéÈõÜ„Åô„Çã„Ç∑„Çπ„ÉÜ„É†"
                    ],
                    correct: 1,
                    explanation: "AI„ÅØ‰∫∫Èñì„ÅÆÁü•ÁöÑÊ¥ªÂãïÔºàÂ≠¶Áøí„ÄÅÊé®Ë´ñ„ÄÅË™çË≠ò„Å™„Å©Ôºâ„Çí„Ç≥„É≥„Éî„É•„Éº„Çø„Éº„ÅßÂÆüÁèæ„Åô„ÇãÊäÄË°ì„Åß„Åô„ÄÇ"
                },
                {
                    question: "Ê©üÊ¢∞Â≠¶Áøí„Å®AI„ÅÆÈñ¢‰øÇ„Å´„Å§„ÅÑ„Å¶Ê≠£„Åó„ÅÑ„ÇÇ„ÅÆ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                    options: [
                        "Ê©üÊ¢∞Â≠¶Áøí„Å®AI„ÅØÂêå„Åò„ÇÇ„ÅÆ",
                        "Ê©üÊ¢∞Â≠¶Áøí„ÅØAI„ÅÆ‰∏ÄÈÉ®ÂàÜ",
                        "AI„ÅØÊ©üÊ¢∞Â≠¶Áøí„ÅÆ‰∏ÄÈÉ®ÂàÜ",
                        "Ê©üÊ¢∞Â≠¶Áøí„Å®AI„ÅØÂÖ®„ÅèÂà•„ÅÆ„ÇÇ„ÅÆ"
                    ],
                    correct: 1,
                    explanation: "Ê©üÊ¢∞Â≠¶Áøí„ÅØAI„ÅÆ‰∏ÄÂàÜÈáé„Åß„ÅÇ„Çä„ÄÅ„Éá„Éº„Çø„Åã„ÇâÂ≠¶Áøí„Åó„Å¶‰∫àÊ∏¨„ÇÑÂàÜÈ°û„ÇíË°å„ÅÜÊäÄË°ì„Åß„Åô„ÄÇ"
                }
            ],
            'Ê©üÊ¢∞Â≠¶Áøí': [
                {
                    question: "ÊïôÂ∏´„ÅÇ„ÇäÂ≠¶Áøí„ÅÆ‰æã„Å®„Åó„Å¶ÈÅ©Âàá„Å™„ÇÇ„ÅÆ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                    options: [
                        "È°ßÂÆ¢„Çí„Ç∞„É´„Éº„Éó„Å´ÂàÜ„Åë„Çã",
                        "„É°„Éº„É´„ÅÆ„Çπ„Éë„É†ÂàÜÈ°û",
                        "ÂïÜÂìÅ„ÅÆÊé®Ëñ¶„Ç∑„Çπ„ÉÜ„É†",
                        "Áï∞Â∏∏ÂÄ§„ÅÆÊ§úÂá∫"
                    ],
                    correct: 1,
                    explanation: "„Çπ„Éë„É†ÂàÜÈ°û„ÅØ„ÄÅ„É©„Éô„É´‰ªò„Åç„Éá„Éº„ÇøÔºà„Çπ„Éë„É†/Èùû„Çπ„Éë„É†Ôºâ„Çí‰Ωø„Å£„Å¶Â≠¶Áøí„Åô„ÇãÊïôÂ∏´„ÅÇ„ÇäÂ≠¶Áøí„ÅÆÂÖ∏Âûã‰æã„Åß„Åô„ÄÇ"
                },
                {
                    question: "ÂõûÂ∏∞ÂïèÈ°å„ÅÆ‰æã„Å®„Åó„Å¶ÈÅ©Âàá„Å™„ÇÇ„ÅÆ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                    options: [
                        "ÁîªÂÉè„ÅÆÁä¨Áå´ÂàÜÈ°û",
                        "‰ΩèÂÆÖ‰æ°Ê†º„ÅÆ‰∫àÊ∏¨",
                        "È°ßÂÆ¢„ÅÆ„ÇØ„É©„Çπ„Çø„É™„É≥„Ç∞",
                        "Áï∞Â∏∏ÂèñÂºï„ÅÆÊ§úÂá∫"
                    ],
                    correct: 1,
                    explanation: "‰ΩèÂÆÖ‰æ°Ê†º„ÅÆ‰∫àÊ∏¨„ÅØÈÄ£Á∂öÂÄ§„Çí‰∫àÊ∏¨„Åô„ÇãÂõûÂ∏∞ÂïèÈ°å„Åß„Åô„ÄÇ"
                }
            ],
            'Computer Vision': [
                {
                    question: "Azure Computer Vision„ÅßÂÆüË°å„Åß„Åç„Å™„ÅÑ„Çø„Çπ„ÇØ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                    options: [
                        "ÁîªÂÉèÂÜÖ„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÊäΩÂá∫ÔºàOCRÔºâ",
                        "Áâ©‰Ωì„ÅÆÊ§úÂá∫„Å®ÂàÜÈ°û",
                        "Èü≥Â£∞„ÅÆÊñáÂ≠óËµ∑„Åì„Åó",
                        "ÁîªÂÉè„ÅÆ„Çø„Ç∞‰ªò„Åë"
                    ],
                    correct: 2,
                    explanation: "Èü≥Â£∞„ÅÆÊñáÂ≠óËµ∑„Åì„Åó„ÅØComputer Vision„Åß„ÅØ„Å™„Åè„ÄÅSpeech Services„ÅÆÊ©üËÉΩ„Åß„Åô„ÄÇ"
                },
                {
                    question: "OCRÔºàÂÖâÂ≠¶ÊñáÂ≠óË™çË≠òÔºâ„ÅÆ‰∏ª„Å™Áî®ÈÄî„ÅØ‰Ωï„Åß„Åô„ÅãÔºü",
                    options: [
                        "Èü≥Â£∞„Çí„ÉÜ„Ç≠„Çπ„Éà„Å´Â§âÊèõ",
                        "ÁîªÂÉè„Åã„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÊäΩÂá∫",
                        "„ÉÜ„Ç≠„Çπ„Éà„ÇíÈü≥Â£∞„Å´Â§âÊèõ",
                        "„ÉÜ„Ç≠„Çπ„Éà„ÇíÁøªË®≥"
                    ],
                    correct: 1,
                    explanation: "OCR„ÅØÁîªÂÉè„ÇÑÊñáÊõ∏„Åã„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÊäΩÂá∫„Åô„ÇãÊäÄË°ì„Åß„Åô„ÄÇ"
                }
            ],
            'NLP': [
                {
                    question: "Ëá™ÁÑ∂Ë®ÄË™ûÂá¶ÁêÜÔºàNLPÔºâ„ÅÆ„Çø„Çπ„ÇØ„Åß„Å™„ÅÑ„ÇÇ„ÅÆ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                    options: [
                        "ÊÑüÊÉÖÂàÜÊûê",
                        "„Ç≠„Éº„Éï„É¨„Éº„Ç∫ÊäΩÂá∫",
                        "È°îË™çË≠ò",
                        "Ë®ÄË™ûÊ§úÂá∫"
                    ],
                    correct: 2,
                    explanation: "È°îË™çË≠ò„ÅØComputer Vision„ÅÆ„Çø„Çπ„ÇØ„Åß„ÅÇ„Çä„ÄÅNLP„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ"
                },
                {
                    question: "Azure Text Analytics„ÅßÂÆüË°å„Åß„Åç„Çã„Çø„Çπ„ÇØ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                    options: [
                        "ÁîªÂÉèÂàÜÊûê",
                        "ÊÑüÊÉÖÂàÜÊûê",
                        "Èü≥Â£∞Ë™çË≠ò",
                        "ÂãïÁîªÂá¶ÁêÜ"
                    ],
                    correct: 1,
                    explanation: "Text Analytics„ÅØÊÑüÊÉÖÂàÜÊûê„ÄÅ„Ç≠„Éº„Éï„É¨„Éº„Ç∫ÊäΩÂá∫„ÄÅË®ÄË™ûÊ§úÂá∫„Å™„Å©„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÂàÜÊûê„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ"
                }
            ],
            '‰ºöË©±ÂûãAI': [
                {
                    question: "Azure Bot Service„ÅÆ‰∏ª„Å™Áî®ÈÄî„ÅØ‰Ωï„Åß„Åô„ÅãÔºü",
                    options: [
                        "ÁîªÂÉèË™çË≠ò",
                        "„ÉÅ„É£„ÉÉ„Éà„Éú„ÉÉ„Éà„ÅÆ‰ΩúÊàê",
                        "„Éá„Éº„ÇøÂàÜÊûê",
                        "Web„Çµ„Ç§„Éà„ÅÆ„Éõ„Çπ„ÉÜ„Ç£„É≥„Ç∞"
                    ],
                    correct: 1,
                    explanation: "Azure Bot Service„ÅØ„ÉÅ„É£„ÉÉ„Éà„Éú„ÉÉ„Éà„ÇÑAI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Çí‰ΩúÊàê„Åô„Çã„Åü„ÇÅ„ÅÆ„Çµ„Éº„Éì„Çπ„Åß„Åô„ÄÇ"
                },
                {
                    question: "QnA Maker„ÅÆ‰∏ª„Å™Ê©üËÉΩ„ÅØ‰Ωï„Åß„Åô„ÅãÔºü",
                    options: [
                        "ÁîªÂÉè„Åã„Çâ„ÅÆË≥™ÂïèÂøúÁ≠î",
                        "FAQ„Éô„Éº„Çπ„ÅÆË≥™ÂïèÂøúÁ≠î„Éú„ÉÉ„Éà‰ΩúÊàê",
                        "Èü≥Â£∞Ë™çË≠ò",
                        "ÁøªË®≥„Çµ„Éº„Éì„Çπ"
                    ],
                    correct: 1,
                    explanation: "QnA Maker„ÅØFAQ„ÇÑ„Éâ„Ç≠„É•„É°„É≥„Éà„Åã„ÇâË≥™ÂïèÂøúÁ≠î„Éú„ÉÉ„Éà„ÇíÁ∞°Âçò„Å´‰ΩúÊàê„Åß„Åç„Çã„Çµ„Éº„Éì„Çπ„Åß„Åô„ÄÇ"
                }
            ],
            'Ë≤¨‰ªª„ÅÇ„ÇãAI': [
                {
                    question: "Microsoft„ÅÆË≤¨‰ªª„ÅÇ„ÇãAI„ÅÆÂéüÂâá„Å´Âê´„Åæ„Çå„Å™„ÅÑ„ÇÇ„ÅÆ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                    options: [
                        "ÂÖ¨Âπ≥ÊÄß",
                        "ÈÄèÊòéÊÄß",
                        "Âà©ÁõäÊúÄÂ§ßÂåñ",
                        "„Éó„É©„Ç§„Éê„Ç∑„Éº„Å®„Çª„Ç≠„É•„É™„ÉÜ„Ç£"
                    ],
                    correct: 2,
                    explanation: "Microsoft„ÅÆË≤¨‰ªª„ÅÇ„ÇãAI„ÅÆÂéüÂâá„ÅØ„ÄÅÂÖ¨Âπ≥ÊÄß„ÄÅ‰ø°È†ºÊÄß„Å®ÂÆâÂÖ®ÊÄß„ÄÅ„Éó„É©„Ç§„Éê„Ç∑„Éº„Å®„Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÄÅÂåÖÊã¨ÊÄß„ÄÅÈÄèÊòéÊÄß„ÄÅË™¨ÊòéË≤¨‰ªª„Åß„Åô„ÄÇ"
                },
                {
                    question: "AI„Ç∑„Çπ„ÉÜ„É†„ÅÆ„Éê„Ç§„Ç¢„Çπ„ÇíÊ∏õ„Çâ„Åô„Åü„ÇÅ„Å´ÈáçË¶Å„Å™„Åì„Å®„ÅØ‰Ωï„Åß„Åô„ÅãÔºü",
                    options: [
                        "ÊúÄÊñ∞„ÅÆ„Ç¢„É´„Ç¥„É™„Ç∫„É†„Çí‰ΩøÁî®„Åô„Çã",
                        "Â§öÊßò„Åß‰ª£Ë°®ÁöÑ„Å™„Éá„Éº„Çø„Çª„ÉÉ„Éà„Çí‰ΩøÁî®„Åô„Çã",
                        "Âá¶ÁêÜÈÄüÂ∫¶„ÇíÂêë‰∏ä„Åï„Åõ„Çã",
                        "„Ç≥„Çπ„Éà„ÇíÂâäÊ∏õ„Åô„Çã"
                    ],
                    correct: 1,
                    explanation: "Â§öÊßò„Åß‰ª£Ë°®ÁöÑ„Å™„Éá„Éº„Çø„Çª„ÉÉ„Éà„Çí‰ΩøÁî®„Åô„Çã„Åì„Å®„Åß„ÄÅAI„Ç∑„Çπ„ÉÜ„É†„ÅÆ„Éê„Ç§„Ç¢„Çπ„ÇíÊ∏õ„Çâ„Åô„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ"
                }
            ],
            'Azure AI Services': [
                {
                    question: "Azure Cognitive Services„Å´Âê´„Åæ„Çå„Å™„ÅÑ„Çµ„Éº„Éì„Çπ„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                    options: [
                        "Computer Vision",
                        "Text Analytics",
                        "Azure Storage",
                        "Speech Services"
                    ],
                    correct: 2,
                    explanation: "Azure Storage„ÅØ„Çπ„Éà„É¨„Éº„Ç∏„Çµ„Éº„Éì„Çπ„Åß„ÅÇ„ÇäCognitive Services„Å´„ÅØÂê´„Åæ„Çå„Åæ„Åõ„Çì„ÄÇ"
                },
                {
                    question: "Azure Machine Learning Studio„ÅÆ‰∏ª„Å™Áî®ÈÄî„ÅØ‰Ωï„Åß„Åô„ÅãÔºü",
                    options: [
                        "Web„Çµ„Ç§„Éà„ÅÆ‰ΩúÊàê",
                        "Ê©üÊ¢∞Â≠¶Áøí„É¢„Éá„É´„ÅÆÊßãÁØâ„Å®„Éá„Éó„É≠„Ç§",
                        "„Éá„Éº„Çø„Éô„Éº„ÇπÁÆ°ÁêÜ",
                        "„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØË®≠ÂÆö"
                    ],
                    correct: 1,
                    explanation: "Azure Machine Learning Studio„ÅØ„ÄÅÊ©üÊ¢∞Â≠¶Áøí„É¢„Éá„É´„ÅÆÊßãÁØâ„ÄÅ„Éà„É¨„Éº„Éã„É≥„Ç∞„ÄÅ„Éá„Éó„É≠„Ç§„ÇíË°å„ÅÜ„Åü„ÇÅ„ÅÆÁµ±ÂêàÈñãÁô∫Áí∞Â¢É„Åß„Åô„ÄÇ"
                }
            ]
        };

        // „Çø„ÉñÂàá„ÇäÊõø„Åà
        function switchTab(tab) {
            currentTab = tab;
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(t => t.classList.remove('active'));
            
            if (tab === 'study') {
                document.querySelector('.tab:nth-child(1)').classList.add('active');
                document.getElementById('studySection').classList.remove('hidden');
                document.getElementById('quizSection').classList.add('hidden');
            } else {
                document.querySelector('.tab:nth-child(2)').classList.add('active');
                document.getElementById('studySection').classList.add('hidden');
                document.getElementById('quizSection').classList.remove('hidden');
                updateQuizStats();
            }
        }

        // „Ç®„Éì„É≥„Ç∞„Éè„Ç¶„Çπ„ÅÆÂøòÂç¥Êõ≤Á∑ö„ÅÆË®àÁÆó
        function calculateRetention(elapsedMinutes, initialUnderstanding) {
            const S = 1440 * initialUnderstanding;
            const retention = Math.exp(-elapsedMinutes / S) * initialUnderstanding * 100;
            return Math.max(0, Math.min(100, retention));
        }

        // Á∑èÂêàË®òÊÜ∂„É¨„Éô„É´„ÅÆË®àÁÆó
        function calculateOverallMemoryLevel() {
            if (studyRecords.length === 0) return 0;

            let totalRetention = 0;
            const now = new Date();

            studyRecords.forEach(record => {
                const elapsedMinutes = (now - new Date(record.date)) / (1000 * 60);
                const retention = calculateRetention(elapsedMinutes, record.difficulty);
                totalRetention += retention;
            });

            return Math.round(totalRetention / studyRecords.length);
        }

        // Ë®òÊÜ∂„É¨„Éô„É´„ÅÆË°®Á§∫„ÇíÊõ¥Êñ∞
        function updateMemoryLevel() {
            const level = calculateOverallMemoryLevel();
            const levelDisplay = document.getElementById('memoryLevel');
            levelDisplay.textContent = level;
            
            if (level >= 80) {
                levelDisplay.style.color = '#28a745';
            } else if (level >= 60) {
                levelDisplay.style.color = '#0078d4';
            } else if (level >= 40) {
                levelDisplay.style.color = '#ffc107';
            } else {
                levelDisplay.style.color = '#dc3545';
            }
        }

        // „Ç∞„É©„Éï„ÅÆÊèèÁîª
        function drawChart() {
            const ctx = document.getElementById('forgettingCurveChart').getContext('2d');
            
            if (chart) {
                chart.destroy();
            }

            const labels = [];
            const datasets = [];
            const now = new Date();

            for (let i = 0; i <= 168; i += 24) {
                labels.push(`${i / 24}Êó•Âæå`);
            }

            // „Ç´„ÉÜ„Ç¥„É™„ÉºÂà•„ÅÆËâ≤
            const categoryColors = {
                'AIÊ¶ÇË¶Å': '#FF6384',
                'Ê©üÊ¢∞Â≠¶Áøí': '#36A2EB',
                'Computer Vision': '#FFCE56',
                'NLP': '#4BC0C0',
                '‰ºöË©±ÂûãAI': '#9966FF',
                'Ë≤¨‰ªª„ÅÇ„ÇãAI': '#FF9F40',
                'Azure AI Services': '#FF6384'
            };

            studyRecords.forEach((record, index) => {
                const data = [];
                const recordDate = new Date(record.date);
                
                for (let i = 0; i <= 168; i += 24) {
                    const futureDate = new Date(now.getTime() + i * 60 * 60 * 1000);
                    const elapsedMinutes = (futureDate - recordDate) / (1000 * 60);
                    const retention = calculateRetention(elapsedMinutes, record.difficulty);
                    data.push(retention);
                }

                datasets.push({
                    label: `${record.category} - ${record.topic}`,
                    data: data,
                    borderColor: categoryColors[record.category] || `hsl(${index * 60}, 70%, 50%)`,
                    backgroundColor: `rgba(0, 120, 212, 0.1)`,
                    tension: 0.4,
                    borderWidth: 2
                });
            });

            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'AI-900 Ë®òÊÜ∂‰øùÊåÅÁéá„ÅÆÊé®Áßª‰∫àÊ∏¨',
                            font: {
                                size: 18
                            }
                        },
                        legend: {
                            display: true,
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            },
                            title: {
                                display: true,
                                text: 'Ë®òÊÜ∂‰øùÊåÅÁéá'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'ÁµåÈÅéÊôÇÈñì'
                            }
                        }
                    }
                }
            });
        }

        // Â≠¶ÁøíÂ±•Ê≠¥„ÅÆË°®Á§∫„ÇíÊõ¥Êñ∞
        function updateStudyList() {
            const studyList = document.getElementById('studyList');
            
            if (studyRecords.length === 0) {
                studyList.innerHTML = `
                    <div class="empty-state">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 11H6a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-3"></path>
                            <rect x="8" y="2" width="8" height="11" rx="1"></rect>
                        </svg>
                        <p>„Åæ„Å†Â≠¶ÁøíË®òÈå≤„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</p>
                    </div>
                `;
                return;
            }

            studyList.innerHTML = '';
            const now = new Date();

            studyRecords.forEach((record, index) => {
                const elapsedMinutes = (now - new Date(record.date)) / (1000 * 60);
                const retention = calculateRetention(elapsedMinutes, record.difficulty);
                
                const studyItem = document.createElement('div');
                studyItem.className = 'study-item';
                studyItem.innerHTML = `
                    <div class="study-item-header">
                        <div>
                            <span class="category-tag">${record.category}</span>
                            <div class="study-item-title">${record.topic}</div>
                            <div class="study-item-date">${new Date(record.date).toLocaleString('ja-JP')}</div>
                        </div>
                        <button class="delete-btn" onclick="deleteRecord(${index})">ÂâäÈô§</button>
                    </div>
                    <div class="study-item-retention">ÁèæÂú®„ÅÆË®òÊÜ∂‰øùÊåÅÁéá: ${Math.round(retention)}%</div>
                    <div style="font-size: 0.85em; color: #666; margin-top: 10px;">${record.details}</div>
                    ${record.question ? `
                        <div style="margin-top: 15px; padding: 15px; background: #f0f4ff; border-radius: 8px;">
                            <div style="font-weight: 600; color: #0078d4; margin-bottom: 8px;">ÂïèÈ°å:</div>
                            <div style="color: #555; margin-bottom: 10px;">${record.question}</div>
                            <div style="font-weight: 600; color: #0078d4; margin-bottom: 8px;">Á≠î„Åà:</div>
                            <div style="color: #555;">${record.answer}</div>
                        </div>
                    ` : ''}
                `;
                
                studyList.appendChild(studyItem);
            });
        }

        // Ë®òÈå≤„ÅÆÂâäÈô§
        function deleteRecord(index) {
            if (confirm('„Åì„ÅÆÂ≠¶ÁøíË®òÈå≤„ÇíÂâäÈô§„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºü')) {
                studyRecords.splice(index, 1);
                updateMemoryLevel();
                updateStudyList();
                drawChart();
            }
        }

        // „ÇØ„Ç§„Ç∫ÁîüÊàê
        function generateQuiz() {
            const category = document.getElementById('quizCategory').value;
            const quizContent = document.getElementById('quizContent');
            
            let availableQuestions = [];
            
            if (category === 'all') {
                // „Åô„Åπ„Å¶„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº„Åã„ÇâÂïèÈ°å„ÇíÈõÜ„ÇÅ„Çã
                Object.values(quizPool).forEach(questions => {
                    availableQuestions = availableQuestions.concat(questions);
                });
            } else {
                availableQuestions = quizPool[category] || [];
            }
            
            if (availableQuestions.length === 0) {
                quizContent.innerHTML = '<p>ÈÅ∏Êäû„Åï„Çå„Åü„Ç´„ÉÜ„Ç¥„É™„Éº„Å´ÂïèÈ°å„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>';
                return;
            }
            
            // „É©„É≥„ÉÄ„É†„Å´ÂïèÈ°å„ÇíÈÅ∏Êäû
            const randomIndex = Math.floor(Math.random() * availableQuestions.length);
            const question = availableQuestions[randomIndex];
            
            quizContent.innerHTML = `
                <div class="quiz-question">
                    <h3>ÂïèÈ°å ${quizStats.today + 1}</h3>
                    <p style="font-size: 1.1em; margin-bottom: 20px;">${question.question}</p>
                    <div class="quiz-options">
                        ${question.options.map((option, index) => `
                            <div class="quiz-option" onclick="selectAnswer(${index}, ${question.correct}, '${question.explanation}')">
                                ${String.fromCharCode(65 + index)}. ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div id="quizFeedback"></div>
                </div>
            `;
            
            // Áµ±Ë®à„ÇíÊõ¥Êñ∞
            quizStats.today++;
            updateQuizStats();
        }

        // Á≠î„Åà„ÇíÈÅ∏Êäû
        function selectAnswer(selected, correct, explanation) {
            const options = document.querySelectorAll('.quiz-option');
            const feedback = document.getElementById('quizFeedback');
            
            // „Åô„Åß„Å´ÂõûÁ≠îÊ∏à„Åø„ÅÆÂ†¥Âêà„ÅØ‰Ωï„ÇÇ„Åó„Å™„ÅÑ
            if (options[0].classList.contains('correct') || options[0].classList.contains('incorrect')) {
                return;
            }
            
            options.forEach((option, index) => {
                option.classList.remove('selected');
                if (index === selected) {
                    option.classList.add('selected');
                }
                if (index === correct) {
                    option.classList.add('correct');
                } else if (index === selected && index !== correct) {
                    option.classList.add('incorrect');
                }
            });
            
            quizStats.total++;
            
            if (selected === correct) {
                quizStats.correct++;
                quizStats.streak++;
                feedback.innerHTML = `
                    <div class="quiz-feedback correct">
                        Ê≠£Ëß£„Åß„ÅôÔºÅ ${explanation}
                    </div>
                    <button class="btn btn-success" onclick="generateQuiz()" style="margin-top: 20px;">Ê¨°„ÅÆÂïèÈ°å„Å∏</button>
                `;
            } else {
                quizStats.streak = 0;
                feedback.innerHTML = `
                    <div class="quiz-feedback incorrect">
                        ‰∏çÊ≠£Ëß£„Åß„Åô„ÄÇÊ≠£Ëß£„ÅØ ${String.fromCharCode(65 + correct)} „Åß„Åô„ÄÇ
                        <br><br>${explanation}
                    </div>
                    <button class="btn btn-danger" onclick="generateQuiz()" style="margin-top: 20px;">Ê¨°„ÅÆÂïèÈ°å„Å∏</button>
                `;
            }
            
            updateQuizStats();
        }

        // „ÇØ„Ç§„Ç∫Áµ±Ë®à„ÇíÊõ¥Êñ∞
        function updateQuizStats() {
            document.getElementById('todayQuestions').textContent = quizStats.today;
            document.getElementById('correctRate').textContent = quizStats.total > 0 
                ? Math.round((quizStats.correct / quizStats.total) * 100) + '%' 
                : '0%';
            document.getElementById('streak').textContent = quizStats.streak;
        }

        // „Éï„Ç©„Éº„É†„ÅÆÂá¶ÁêÜ
        document.getElementById('studyForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            console.log('Â≠¶ÁøíÂÜÖÂÆπ„ÇíË®òÈå≤‰∏≠...');
            
            const record = {
                category: document.getElementById('category').value,
                topic: document.getElementById('topic').value,
                details: document.getElementById('details').value,
                question: document.getElementById('question').value,
                answer: document.getElementById('answer').value,
                difficulty: parseFloat(document.getElementById('difficulty').value),
                date: new Date().toISOString()
            };

            console.log('Ë®òÈå≤„Éá„Éº„Çø:', record);

            // Âêå„Åò„Éà„Éî„ÉÉ„ÇØ„ÅÆÊó¢Â≠òË®òÈå≤„ÇíÊé¢„Åô
            const existingIndex = studyRecords.findIndex(r => 
                r.category === record.category && r.topic === record.topic
            );

            if (existingIndex !== -1) {
                // Êó¢Â≠ò„ÅÆË®òÈå≤„ÇíÊõ¥Êñ∞ÔºàÂæ©Áøí„Å®„Åó„Å¶Êâ±„ÅÜÔºâ
                studyRecords[existingIndex] = record;
                console.log('Êó¢Â≠ò„ÅÆË®òÈå≤„ÇíÊõ¥Êñ∞„Åó„Åæ„Åó„Åü');
            } else {
                // Êñ∞Ë¶èË®òÈå≤„Å®„Åó„Å¶ËøΩÂä†
                studyRecords.push(record);
                console.log('Êñ∞Ë¶èË®òÈå≤„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü');
            }

            // UI„ÇíÊõ¥Êñ∞
            updateMemoryLevel();
            updateStudyList();
            drawChart();

            // „Éï„Ç©„Éº„É†„Çí„É™„Çª„ÉÉ„Éà
            this.reset();
            
            // ÊàêÂäü„É°„ÉÉ„Çª„Éº„Ç∏
            const btn = this.querySelector('.btn');
            const originalText = btn.textContent;
            btn.textContent = '‚úì Ë®òÈå≤„Åó„Åæ„Åó„ÅüÔºÅ';
            btn.style.background = 'linear-gradient(135deg, #28a745 0%, #20c997 100%)';
            
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.background = 'linear-gradient(135deg, #0078d4 0%, #005a9e 100%)';
            }, 2000);
        });

        // ÂÆöÊúüÁöÑ„Å´Ë®òÊÜ∂„É¨„Éô„É´„ÇíÊõ¥Êñ∞Ôºà1ÂàÜ„Åî„Å®Ôºâ
        setInterval(() => {
            if (studyRecords.length > 0) {
                updateMemoryLevel();
                updateStudyList();
            }
        }, 60000);
    </script>
</body>
</html>